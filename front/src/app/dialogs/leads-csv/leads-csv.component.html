<h2 mat-dialog-title>Add Leads CSV</h2>

<mat-dialog-content>

  <form [formGroup]="leadCSVForm" #lCSVForm (ngSubmit)="save()">
    <mat-form-field class="stdDialogInput">
      <ngx-mat-file-input formControlName="csv_file" placeholder="Prospects CSV" [accept]="'.csv'"></ngx-mat-file-input>
      <mat-icon matSuffix>folder</mat-icon>
    </mat-form-field>

    <mat-form-field class="stdDialogInput">
      <input type="text"
             placeholder="Client" aria-label="Client"
             matInput [formControl]="client_id" [matAutocomplete]="auto">

      <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
        <mat-option *ngFor="let client of clients" [value]="client">
          <span>{{ client.name }}</span>
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>

  </form>

  <mat-dialog-actions class="stdDialogActions">
    <button class="mat-raised-button" (click)="close()">Close</button>
    <button class="mat-raised-button mat-primary" [disabled]="!leadCSVForm.valid || !leadCSVForm.controls.client_id.value.id" (click)="save()">Save</button>
  </mat-dialog-actions>

</mat-dialog-content>
